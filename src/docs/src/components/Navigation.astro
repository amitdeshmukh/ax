---
const sections = [
  //   {
  //     name: 'guides',
  //     slug: '/guides',
  //   },
  {
    name: 'apidocs',
    slug: '/api',
  },
]
---

<nav
  style="background: #ffffff; border-bottom: 1px solid #f1f3f4; position: sticky; top: 0; z-index: 100; backdrop-filter: blur(8px); background: rgba(255, 255, 255, 0.95); overflow-x: hidden;"
>
  <div style="max-width: 1200px; margin: 0 auto; padding: 0 24px; width: 100%;">
    <div
      style="display: flex; align-items: center; justify-content: space-between; height: 72px; min-width: 0;"
    >
      <!-- Left Section: Logo & Badges -->
      <div style="display: flex; align-items: left; gap: 16px;">
        <div
          style="display: flex; align-items: center; gap: 8px; cursor: pointer;"
          id="logo-area"
        >
          <div
            style="font-size: 24px; font-weight: 700; color: #000000; letter-spacing: -0.02em;"
          >
            <a href="/">ax.</a>
          </div>
        </div>

        <!-- Badges next to logo - Desktop -->
        <div
          style="display: flex; align-items: center; gap: 8px; flex-shrink: 0;"
          class="desktop-badges"
        >
          <a
            href="https://www.npmjs.com/package/@ax-llm/ax"
            target="_blank"
            rel="noopener noreferrer"
            style="display: flex; align-items: center; flex-shrink: 0;"
          >
            <img
              src="https://img.shields.io/npm/v/@ax-llm/ax?style=for-the-badge&color=green"
              alt="NPM Package"
              style="height: 28px; border-radius: 4px; max-width: 100%; object-fit: contain;"
            />
          </a>
          <a
            href="https://twitter.com/dosco"
            target="_blank"
            rel="noopener noreferrer"
            style="display: flex; align-items: center; flex-shrink: 0;"
          >
            <img
              src="https://img.shields.io/twitter/follow/dosco?style=for-the-badge&color=red"
              alt="Twitter"
              style="height: 28px; border-radius: 4px; max-width: 100%; object-fit: contain;"
            />
          </a>
        </div>
      </div>

      <!-- Right Section: Optimize, API Docs & GitHub Buttons -->
      <div style="display: flex; align-items: center; gap: 12px;">
        <a
          href="/optimize"
          style="display: flex; align-items: center; gap: 8px; padding: 10px 20px; background: #f8f9fa; color: #1a1a1a; text-decoration: none; font-size: 14px; font-weight: 500; border-radius: 8px; border: 1px solid #e9ecef; transition: all 0.2s ease;"
          onmouseover="this.style.background='#e9ecef';"
          onmouseout="this.style.background='#f8f9fa';"
          class="desktop-api-docs"
        >
          <span>Optimize Guide</span>
        </a>
        <a
          href="/axflow"
          style="display: flex; align-items: center; gap: 8px; padding: 10px 20px; background: #f8f9fa; color: #1a1a1a; text-decoration: none; font-size: 14px; font-weight: 500; border-radius: 8px; border: 1px solid #e9ecef; transition: all 0.2s ease;"
          onmouseover="this.style.background='#e9ecef';"
          onmouseout="this.style.background='#f8f9fa';"
          class="desktop-api-docs"
        >
          <span>AxFlow Guide</span>
        </a>
        <a
          href="/telemetry"
          style="display: flex; align-items: center; gap: 8px; padding: 10px 20px; background: #f8f9fa; color: #1a1a1a; text-decoration: none; font-size: 14px; font-weight: 500; border-radius: 8px; border: 1px solid #e9ecef; transition: all 0.2s ease;"
          onmouseover="this.style.background='#e9ecef';"
          onmouseout="this.style.background='#f8f9fa';"
          class="desktop-api-docs"
        >
          <span>Telemetry Guide</span>
        </a>
        <a
          href="https://deepwiki.com/ax-llm/ax"
          target="_blank"
          rel="noopener noreferrer"
          style="display: flex; align-items: center; gap: 8px; padding: 10px 20px; background: #f8f9fa; color: #1a1a1a; text-decoration: none; font-size: 14px; font-weight: 500; border-radius: 8px; border: 1px solid #e9ecef; transition: all 0.2s ease;"
          onmouseover="this.style.background='#e9ecef';"
          onmouseout="this.style.background='#f8f9fa';"
          class="desktop-api-docs"
        >
          <span>DeepWiki</span>
        </a>
        <a
          href="/api"
          style="display: flex; align-items: center; gap: 8px; padding: 10px 20px; background: #f8f9fa; color: #1a1a1a; text-decoration: none; font-size: 14px; font-weight: 500; border-radius: 8px; border: 1px solid #e9ecef; transition: all 0.2s ease;"
          onmouseover="this.style.background='#e9ecef';"
          onmouseout="this.style.background='#f8f9fa';"
          class="desktop-api-docs"
        >
          <span>API Docs</span>
        </a>

        <a
          href="https://github.com/ax-llm/ax"
          target="_blank"
          rel="noopener noreferrer"
          style="display: flex; align-items: center; gap: 8px; padding: 10px 20px; background: #000000; color: #ffffff; text-decoration: none; font-size: 14px; font-weight: 500; border-radius: 8px; transition: all 0.2s ease;"
          onmouseover="this.style.background='#333333';"
          onmouseout="this.style.background='#000000';"
          class="desktop-github"
        >
          <span>GitHub</span>
        </a>

        <!-- Mobile Menu Button -->
        <button
          id="mobile-menu-btn"
          style="display: none; flex-direction: column; gap: 4px; background: none; border: none; cursor: pointer; padding: 8px;"
          class="mobile-menu-btn"
        >
          <div
            style="width: 20px; height: 2px; background: #000000; transition: all 0.3s ease;"
            class="line1"
          >
          </div>
          <div
            style="width: 20px; height: 2px; background: #000000; transition: all 0.3s ease;"
            class="line2"
          >
          </div>
          <div
            style="width: 20px; height: 2px; background: #000000; transition: all 0.3s ease;"
            class="line3"
          >
          </div>
        </button>
      </div>
    </div>

    <!-- Mobile Navigation Menu -->
    <div
      id="mobile-menu"
      style="display: none; flex-direction: column; gap: 0; padding: 16px 0; border-top: 1px solid #f1f3f4; background: #ffffff;"
      class="mobile-menu"
    >
      <a
        href="/optimize"
        style="font-size: 16px; color: #4a4a4a; text-decoration: none; font-weight: 500; padding: 16px 0; border-bottom: 1px solid #f8f9fa;"
      >
        Optimize Guide
      </a>
      <a
        href="/axflow"
        style="font-size: 16px; color: #4a4a4a; text-decoration: none; font-weight: 500; padding: 16px 0; border-bottom: 1px solid #f8f9fa;"
      >
        AxFlow Guide
      </a>
      <a
        href="/telemetry"
        style="font-size: 16px; color: #4a4a4a; text-decoration: none; font-weight: 500; padding: 16px 0; border-bottom: 1px solid #f8f9fa;"
      >
        Telemetry Guide
      </a>
      <a
        href="https://deepwiki.com/ax-llm/ax"
        target="_blank"
        rel="noopener noreferrer"
        style="font-size: 16px; color: #4a4a4a; text-decoration: none; font-weight: 500; padding: 16px 0; border-bottom: 1px solid #f8f9fa;"
      >
        DeepWiki
      </a>
      <a
        href="/api"
        style="font-size: 16px; color: #4a4a4a; text-decoration: none; font-weight: 500; padding: 16px 0; border-bottom: 1px solid #f8f9fa;"
      >
        API Docs
      </a>

      <a
        href="https://github.com/ax-llm/ax"
        target="_blank"
        rel="noopener noreferrer"
        style="font-size: 16px; color: #4a4a4a; text-decoration: none; font-weight: 500; padding: 16px 0;"
      >
        GitHub
      </a>
    </div>
  </div>
</nav>

<style>
  /* Ensure proper mobile viewport handling */
  html,
  body {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Navigation container styles */
  nav {
    width: 100%;
    box-sizing: border-box;
  }

  nav > div {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
  }

  /* Prevent badge overflow */
  .desktop-badges img {
    max-width: none;
    height: 28px;
  }

  @media (max-width: 768px) {
    .desktop-github,
    .desktop-badges,
    .desktop-api-docs {
      display: none !important;
    }

    .mobile-menu-btn {
      display: flex !important;
    }

    nav div:first-child {
      padding: 0 16px !important;
    }

    /* Ensure mobile menu doesn't overflow */
    .mobile-menu {
      width: 100%;
      box-sizing: border-box;
      overflow-x: hidden;
    }

    .mobile-menu img {
      max-width: calc(100vw - 64px);
      height: auto;
      max-height: 32px;
    }
  }

  @media (max-width: 1024px) {
    .desktop-badges {
      display: none !important;
    }
  }

  @media (min-width: 769px) {
    .mobile-menu {
      display: none !important;
    }
  }

  /* Mobile menu animation */
  .mobile-menu-open .line1 {
    transform: rotate(-45deg) translate(-5px, 6px);
  }

  .mobile-menu-open .line2 {
    opacity: 0;
  }

  .mobile-menu-open .line3 {
    transform: rotate(45deg) translate(-5px, -6px);
  }
</style>

<script>
  // Logo click to scroll to top
  const logoArea = document.getElementById('logo-area')
  if (logoArea) {
    logoArea.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth',
      })
    })
  }

  // Mobile menu toggle
  const mobileMenuBtn = document.getElementById('mobile-menu-btn')
  const mobileMenu = document.getElementById('mobile-menu')

  if (mobileMenuBtn && mobileMenu) {
    mobileMenuBtn.addEventListener('click', () => {
      const isOpen = mobileMenu.style.display === 'flex'

      if (isOpen) {
        mobileMenu.style.display = 'none'
        mobileMenuBtn.classList.remove('mobile-menu-open')
      } else {
        mobileMenu.style.display = 'flex'
        mobileMenuBtn.classList.add('mobile-menu-open')
      }
    })
  }
</script>
